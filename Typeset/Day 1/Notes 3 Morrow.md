# Topological Hochschild Homology  in Arithmetic Geometry

Goals:
- Describe Hochschild and cyclic homology using a classical approach
- Describe the "Topological" counterparts
- Relate these to Algebraic and Arithmetic Geometry

# Classical Theory

This only depends on basic homological algebra, but becomes a bit more interesting when objects with a "perfectoid" flavor are input.

Fix a commutative ring $k$, then for any $k\dash$ algebra $A$ we can form the **Hochschild complex**
$$\begin{align*}
HH(A/k) &\definedas A \xleftarrow{\del_1} A^{\tensor_k 2} \xleftarrow{\del_2} A^{\tensor_k 3}\to \cdots \\
~ \\
\del_1(a_0 \tensor a_1)~ &= a_0a_1 - a_1a_0 \\
\del_2(a_0\tensor a_1\tensor a_2) &= a_0a_1 \tensor a_2 -a_0a_1\tensor a_2 + a_2a_0\tensor a_1 \\
& \vdots
\end{align*}$$

Then by definition, the Hochschild homology groups $HH_n(A/k)$ are obtained by taking the homology of this complex.

Example: 
- $HH_0(A/k) = A/\generators{ab-ba} = A/[A,A] = A$ when $A$ is commutative.
- $HH_1(A/k) = A\tensor_k A / \generators{ab\tensor c - a\tensor bc + ac\tensor b} = \Omega^1_{A/k}$
  - Note that the ideal appearing here is the Leibniz rule from differential forms, and so the last object is the module of Kahler differential forms via the identification $adb \mapsto a\tensor b$
- $HH_*(A/k)$ is a commutative graded $k\dash$algebra

Using these facts, we get maps 
$$
\varepsilon_n: \Omega^n_{A/k} \to HH_n
$$
by the universal property of the differential forms 
$$
\Omega^*_{A/k} \definedas \Lambda_A^* \Omega^1_{A/k}
$$

**Theorem (Hochschild-Kostent-Rosenburg, 60s):**
If $A$ is smooth over $k$, then $\varepsilon_n$ are all isomorphisms.

So the philosophy here is that $HH_*$ works as a generalization of differential forms, even if $A$ is not smooth or even not commutative (Connes, Feigen-Tsygen, Loday-Quillen).

# Proving HKR: A Lemma

We use $(\wait \hat\tensor \wait)$ to denote the *derived tensor product.*

**Lemma:** Let $E = A\tensor_k A^\text{op}$ be the enveloping algebra of $A$, then for any flat $k\dash$ algebra $A$, up to quasi-isomorphism we have 

$$
HH(A/k) \homotopic A\hat\tensor_E A.
$$

This works because $E$ is an $A$ bimodule, and so the derived tensor product appearing on the RHS is represented by the Hochschild complex on the left.

> Note that we can do this for non-flat $A$ by replacing the tensor product appearing in $E$ with a derived tensor product, which puts you in the world of simplicial rings.

To prove this lemma, we explicitly calculate the RHS as 
$$
A\hat\tensor_E A = A\hat\tensor_E \left[ A^{\tensor 2} \xleftarrow{\del'_3}  A^{\tensor 3} \xleftarrow{\del'_4} \cdots \right]
$$

where the complex appearing on the RHS is the bar complex, i.e. a resolution of $A$ by flat $E\dash$modules. This is essentially the Hochschild complex, truncating the first term, with a different differential $\del'$ given by 
$$
\del'_n(a_1 \tensor a_2 \tensor \cdots a_n) = \sum_{i=1}^n (-1)^{i+1} a_i \tensor(\prod_{j\neq i}a_j)
$$
> Note: this may not be quite correct, just a guess.

Because $A$ is a unital algebra, this complex is exact (except at degree zero), which is a purely algebraic result. 

It also resolves $A$. This can be seen because if you use the multiplication map $m: A\tensor A \to A$ and then $\ker m = \im \del'_3$. Under the flatness assumption, all of the terms in this resolution are flat $A\dash$modules. 

Finally, when you base change along $E$ down to $A$, this introduces the "cyclic" part of the multiplication defined in $HH$ earlier, and so this is an on-the-nose identification where the RHS is computing the derived tensor product. 

This is because in $E$, $A$ acts on the left and $A^\text{op}$ acts on the right, and so taking $A\hat\tensor_E$ mods out by the multiplication and thus identifies these two actions and introduces the cyclic part of the boundary maps in $HH$.

From this we obtain the corollary
$$
H_*(A/k) = \tor_*^E(A,A).
$$

# Proving HKR

Again take $A$ a smooth $k\dash$algebra, we need to show that the graded algebra $HH_*(A/k)$ is the exterior algebra on its degree 1 element.

This is well-known for the graded algebra $\tor_*^B(C, C)$ when $\ker(B \surjects C)$ is locally generated by a regular sequence. In this case, there is an explicit Koszul complex from which you can read off the fact that these tor groups are just the wedge algebra generated by $\tor_1^B$. 

An example of this is the multiplication map $A \tensor_k A \to A$, since $k\to A$ is smooth. This works because locally (after localizing and perhaps some etale extension), this looks like a polynomial algebra and this map looks like $k[t] \tensor_k k[t] \to k[t]$, which has kernel $\generators{t\tensor 1 - 1\tensor t}$, which is a regular sequence. This exactly applies to the corollary above, so we're done.

> Note: something interesting happens here, because we usually look at differential forms arising from the de Rham cochain complex, while here's we've written down a chain complex whose homology gives the terms in this cochain complex. This is what makes $HH$ an enrichment of the de Rham complex.

# Cyclic Homology
We have group actions on the Hochschild complex:
$$
\begin{align*}
HH(A/k) \definedas &A  \xleftarrow{\del_1} &&A^{\tensor_k 2} \xleftarrow{\del_2} &&A^{\tensor_k 3} \xleftarrow{} \cdots \\
&\ZZ/1\ZZ \actson &&\ZZ/2\ZZ \actson &&\ZZ/3\ZZ \actson 
\end{align*}
$$

In general, we have 
$$
\generators{t_n} \definedas \ZZ/(n+1)\ZZ \actson A^{\tensor_k (n+1)}.
$$ 

Note that the label on the generator here is slightly weird, but the reason is that $\ZZ/n\ZZ$ is actually acting on terms of homological degree $n-1$. This action is given by a "cyclic right shift",
$$
t_n: A^{\tensor_k(n+1)} \selfmap \\
a_0 \tensor \cdots \tensor a_{n-1} \tensor a_n \mapsto a_{n} \tensor a_0 \tensor \cdots \tensor a_{n-1}
$$

We then define a norm
$$\begin{align*}
\mathrm{N}&: A^{\tensor_k (n+1)} \selfmap \\
\mathrm{N}& \definedas \sum_{i=1}^n \left((-1)^n t_n\right)^i
\end{align*}$$

where we think of $(-1)^nt_n$ as a "twisted action", and an "extra degeneracy" map
$$\begin{align*}
s: A^{\tensor_k n} &\to A^{\tensor_k (n+1)} \\
\bigotimes_i a_i &\mapsto 1\tensor\bigotimes_i a_i.
\end{align*}$$

These come about because the Hochschild complex is actually the complex associated to some simplicial $k\dash$module, which has face maps (going down) and degeneracy maps (going up). The boundary maps are the alternating sums of the face maps here, and the degeneracy maps just involve inserting a 1 somewhere in the tensor product -- except this particular map doesn't appear, which is why it's an "extra" degeneracy.

Perhaps the most important map is **Connes operator**,
$$
B: A^{\tensor_k n} \mapsvia{N} A^{\tensor_k n} \mapsvia{s} A^{\tensor_k (n+1)}
\mapsvia{\id - (-1)^nt_n} A^{\tensor_k (n+1)}
$$

Can check that $B^2=0$ and $B\del + \del B = 0$ (for $\del$ the boundary map in the Hochschild complex $HH$). Thus $B$ gives $HH$ the structure of a cochain complex, in addition to it being a chain complex, which are both compatible. This is called a "mixed complex" or an "algebraic $S^1\dash$complex".

We can also think of $B:H(A/k) \to HH(A/k)[-1]$, and $B$ can be said to "refine the de Rham differential", characterized by the commutativity of the following diagram:
$$
\begin{CD}
  HH_n(A/k) @>B>> HH_{n+1}(A/k) \\
  @AA\varepsilon_n A \selfmap @AA\varepsilon_{n+1} A \\
  \Omega^n_{A/k} @>\del_{DR}>> \Omega^{n+1}_{A/k}
\end{CD}
$$

For this reason, we can consider $HH$ a "lift" of the entire structure of the de Rham complex. We can now proceed as if we were constructing de Rham cohomology, but we'll do it with $HH$ instead.

# Definitions of Cyclic Homology (and its variants)

First, we'll assemble a bunch of copies of $HH$ into a double complex, rewriting $\del$ as $b$:
$$
\begin{CD}
  \ddots @. \vdots @. \vdots @. \vdots @. \vdots @. ~\rotate{\ddots} \\
  @. @VbVV @VbVV @VbVV @VbVV @.\\
  \cdots @. A^{\tensor_k 4} @<B<< A^{\tensor_k 3} @<B<< A^{\tensor_k 2} @<B<< A @. \cdots \\
  @. @VbVV @VbVV @VbVV @. @.\\
  \cdots @. A^{\tensor_k 3} @<B<< A^{\tensor_k 2} @<B<< A @. \cdot @. \cdots \\
  @. @VbVV @VbVV @. @. @.\\
  \cdots @. A^{\tensor_k 2} @<B<< A @. \cdot @. \cdot @. \cdots \\
  @. @VbVV @. @. @. @.\\
  \cdots @. A @. \cdot @. \cdot @. \cdot @. \cdots \\
  @. @. @. @. @. @. \\
  \rotate{\ddots} @. \vdots @. \vdots @. \vdots @. \vdots @. \ddots
\end{CD}
$$

where the condition $Bd = -dB$ from earlier makes this anti-commuting. Note that this extends to infinity in both homological and cohomological degree, so this complex is supported in quadrants 1,2 and 3.

Definition: The **periodic cyclic homology** $HP(A/k)$ is given by the totalization of this complex, obtained by taking the *direct product* along diagonals. 

> Note: since this complex has infinite support, we have to distinguish between taking the direct sum and product here. There is also a differential graded algebra structure here which we won't address for now.

The **classical cyclic homology** $HC(A/k)$ is obtained by taking the totalization of just the 1st quadrant, where the origin is taken wherever the bidegree is set to $(0,0)$ (i.e. take the $x\geq 0$ part). 

Finally, we can totalize what's left to define the **negative cyclic homology** $HC^-(A/k)$, given by the totalization of the 2nd and 3rd quadrants (i.e. take the $x\leq 0$ part).

> Note that $HP$ and $HC^-$ will have degrees extending in both directions, while $HC$ sits in positive degree only.

We can read off some structural properties. Consider the map 
$$
Sh: HP \to HP[2]
$$ 
given by shifting the entire complex one column to the left (thus excluding one column from positive part). 

> Note: $Sh$ is referred to as a "periodicity map". The original lectures use $S$ to denote this map.

Considering the $HC$ part, we obtain another copy of $HC$, shifted by bidegree $(1,1)$, while what we lost was a column -- i.e. a copy of $HH$. So there as an exact sequence of complexes
$$
0 \to HH \to HC \mapsvia{Sh}  HC[-2] \to 0
$$

Considering the $HC^-$ part, an exactly analogous dual thing happens -- this one is easier to think of as restricting $HC^-$ to a single column. What you obtain is a column (of course) corresponding to $HH$, which kills a copy of $HC^-$ shifted by bidegree $(1,1)$. So this yields another exact sequence
$$
0 \to HC^-[-2] \mapsvia{Sh} HC^- \to HH \to
$$

The most important sequence here is the **norm sequence**
$$
0 \to HC^- \to HP \to HC[2] \to 0
$$

which states an obvious fact: the totalization of the entire complex sits between the totalizations of the left and right pieces respectively.

We can alternatively obtain $HP$ in the following way:
$$
HP = \varprojlim(\cdots HC[-4] \mapsvia{Sh} HC[-2] \mapsvia{Sh} HC )
$$

which says that we can totalize the entire complex by first chopping a column off and totalizing, then chopping off a second column to the left and totalizing, and so on taking the inverse limit. 

> Note that for this formula to hold, we had to take direct products instead of direct sums when totalizing.

Looking back at the periodicity maps, we find that this induces 2-periodicity in homology, and so
$$
HP_n(A/k) \cong HP_{n+2}(A/k)
$$

The moral here: "coarse information about $HH$ yields coarse information about all of $HP, HC, HC^-$."

# Example Usage
Suppose $HH_\text{odd}(A/k) = 0$, which happens when $A$ is "perfectoid" in flavor.

Then $HP_0(A/k)$ is a complete filtered ring which encodes some useful data.
> Note: The graded direct sum $HP_*$ is actually a graded algebra, so we know that $HP_0$ will be some ring/$k\dash$algebra.

It is filtered by ideals given by 
$$
F^i  HP_0 (A/k) \definedas Sh^n(HC^-_{2i}(A/k))
$$

for some $n\geq 0$, where
$$
\frac{HP_0(A/k)} {F^i(HP_0(A/k))} \cong HC_{2i-2}(A/k)
$$

and the graded pieces are given by
$$
G^i \cong HH_{2i}(A/k).
$$

This essentially falls out of looking at the spectral sequence for $HP$, where page $E_2$ will only contain elements sitting in even degree, and so this will be true for $HP, HC, HC^-$.

We could also find this by looking at the short exact sequences from earlier, writing the associated long exact sequence, and chasing it backwards noting that $HC$ is only supported in odd degrees.

> Lecture said supported in odd degrees, but maybe even..? Possibly not, due to shift, I don't know.

Then the map from $HC^-$ to $HP$ theories is in fact injective -- we can just apply these periodicity map a number of times and land in some ideal in $HP_0$, and the quotient by this ideal will be some copy of the cyclic homology $HC$. The graded pieces will be the difference between two cyclic homologies, which is exactly Hochschild homology.

Moral of the story: $HP_0$ contains a great deal of data about $HP HC, HC^-$ as long as we equip it with this filtration and keep track of it.

Later, we'll feed in perfectoid-ish things, and the result will be some filtered ring which encodes a lot of data about $HH$. This resulting ring may be identifiable or something completely new! $\qed$

> Notes: We can take $A = k[G]$, the group algebra of a group, to recover group homology (provided $G$ is abelian perhaps). In this case, the map $B$ is homotopically trivial, and so $HP$ decomposes into a product of the group homologies -- then the periodicity map just shifts these in a periodic way. (?)